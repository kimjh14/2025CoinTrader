1. 프로그램 개요

목적: 가상화폐의 1분 뒤 가격 등락을 예측하는 3-클래스 분류 모델
클래스 정의:

클래스 0 (하락): 1분 뒤 수익률 < -0.05%
클래스 1 (보류): -0.05% ≤ 1분 뒤 수익률 ≤ 0.05%
클래스 2 (상승): 1분 뒤 수익률 > 0.05%


특징: 보류 클래스가 전체 데이터의 50% 이상을 차지

2. 사용 지표

TRIX: 1분봉, 3분봉, 5분봉 (총 3개)
MACD: 1분봉 장기, 단기, 시그널(총3개)
총 6개의 입력 특징

3. 모델 요구사항
두 가지 모델을 구현하고 성능을 비교:

XGBoost 모델: 3-클래스 분류
Bi-LSTM 모델: 양방향 LSTM 사용

4. 코드 구조
python# 1. 데이터 전처리 클래스
class DataPreprocessor:
    - TRIX 계산 (1분, 3분, 5분봉)
    - MACD 신호선 계산 (1분봉)
    - 레이블 생성 (3-클래스)
    - 시퀀스 데이터 생성 (LSTM용)
    - Train/Validation/Test 분할

# 2. XGBoost 모델 클래스
class XGBoostPredictor:
    - 모델 초기화 및 훈련
    - 예측 및 확률 출력
    - 성능 평가 메트릭

# 3. Bi-LSTM 모델 클래스
class BiLSTMPredictor:
    - PyTorch 기반 Bi-LSTM 구현
    - 시퀀스 길이: 최근 10개 시점
    - 3-클래스 분류 출력

# 4. 백테스팅 클래스
class BacktestEngine:
    - 두 모델의 예측 결과를 받아 매매 시뮬레이션
    - 거래 비용 0.05% 적용
    - 수익률, 샤프 지수, 최대 손실폭 계산
    - 모델 간 성능 비교 시각화

# 5. 메인 실행 코드
if __name__ == "__main__":
    - 데이터 로드 및 전처리
    - 두 모델 훈련
    - 백테스팅 수행
    - 결과 비교 및 시각화
5. 성능 평가 지표

분류 성능: 정확도, F1-score (클래스별), 혼동 행렬
거래 성능:

누적 수익률
샤프 지수
최대 손실폭 (MDD)
승률
거래 횟수



6. 특별 요구사항

클래스 불균형 처리: 보류 클래스가 50% 이상이므로 적절한 가중치 설정
거래 전략:

상승(클래스 2) 예측 시 매수
하락(클래스 0) 예측 시 매도
보류(클래스 1) 예측 시 포지션 유지


시각화:

두 모델의 누적 수익률 비교 그래프
클래스별 예측 정확도 비교
특징 중요도 (XGBoost)



7. 데이터 형식
입력 데이터는 다음 컬럼을 포함하는 DataFrame:

timestamp: 시간
close_1m, close_3m, close_5m: 각 시간대별 종가
volume_1m: 1분봉 거래량 (MACD 계산용)

8. 추가 구현 사항

모든 예측은 미래 데이터를 참조하지 않도록 주의
Walk-forward validation 적용
모델 저장 및 로드 기능
실시간 예측을 위한 인터페이스

코드는 깔끔하고 문서화가 잘 되어 있어야 하며, 각 클래스와 메서드에 대한 docstring을 포함해주세요.